<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <!-- Main JS (navbar.js, katex_init.js and masonry_init.js)-->
    <script defer=true src="/assets/js/main.min.js"></script>
    
    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">

    <!--Favicon-->
    <link rel="shortcut icon" href="/assets/img/favicon.ico" type="image/x-icon">

    <!-- Canonical -->
    <link rel="canonical" href="https://nh0627.github.io/udemy-react/2018/12/20/class-component-state.html">

    <!-- RSS -->
    <link rel="alternate" type="application/atom+xml" title="Nahyeon Lee" href="https://nh0627.github.io/feed.xml"/>

    <!-- Font Awesome -->
    <!-- <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"> -->
    <link rel="stylesheet" type="text/css" href="/assets/css/vendor/font-awesome.min.css">
    
    

    <!-- Google Fonts -->
    
    <link href="//fonts.googleapis.com/css?family=Open+Sans:400,400i" rel="stylesheet" type="text/css"> 
    

    <!-- KaTeX 0.8.3 -->
    
    <link rel="stylesheet" type="text/css" href="/assets/css/vendor/katex.min.css">
    <script src="/assets/js/vendor/katex.min.js">
    </script>
    

    <!-- Google Analytics -->
    
    
    <!-- seo tags -->
    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>React04 - Class-based Components, State and Component Lifecycle | Nahyeon Lee</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="React04 - Class-based Components, State and Component Lifecycle" />
<meta name="author" content="Nahyeon Lee" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A component can be functional or a class-based. Functional components are good enough to display simple content, but class components can be good for more than a simple feature with any complex logic. There is a concept of “state” in React also; State lets components to update their output data as responding immediately to a user’s action(asynchronously)." />
<meta property="og:description" content="A component can be functional or a class-based. Functional components are good enough to display simple content, but class components can be good for more than a simple feature with any complex logic. There is a concept of “state” in React also; State lets components to update their output data as responding immediately to a user’s action(asynchronously)." />
<link rel="canonical" href="https://nh0627.github.io/udemy-react/2018/12/20/class-component-state.html" />
<meta property="og:url" content="https://nh0627.github.io/udemy-react/2018/12/20/class-component-state.html" />
<meta property="og:site_name" content="Nahyeon Lee" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-12-20T00:00:00+09:00" />
<script type="application/ld+json">
{"description":"A component can be functional or a class-based. Functional components are good enough to display simple content, but class components can be good for more than a simple feature with any complex logic. There is a concept of “state” in React also; State lets components to update their output data as responding immediately to a user’s action(asynchronously).","author":{"@type":"Person","name":"Nahyeon Lee"},"@type":"BlogPosting","url":"https://nh0627.github.io/udemy-react/2018/12/20/class-component-state.html","headline":"React04 - Class-based Components, State and Component Lifecycle","dateModified":"2018-12-20T00:00:00+09:00","datePublished":"2018-12-20T00:00:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://nh0627.github.io/udemy-react/2018/12/20/class-component-state.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <!-- Manual seo tags -->
    <!--
    <title>React04 - Class-based Components, State and Component Lifecycle | Nahyeon Lee</title>
    <meta name="description" content="A component can be functional or a class-based. Functional components are good enough to display simple content, but class components can be good for more th...">
    -->
</head>

  <body>
    <header class="site-header">
    
    <!-- Logo and title -->
	<div class="branding">
		<a href="/">
			<img alt="logo img" class="avatar" src="/assets/img/icon.png" alt=""/>
		</a>

		<!-- <h1 class="site-title">
			<a alt="Nahyeon Lee" href="/"> 
                Nahyeon Lee
            </a>
		</h1> -->
	</div>
    
    <!-- Toggle menu -->
    <nav class="clear">
    <a name="pull" id="pull" class="toggle" href="#">
    <i class="fa fa-bars fa-lg"></i>
    </a>
    
    <!-- Menu -->
    <ul class="hide">
                 
        <li class="separator"> | </li>
        <li>
            <a class="clear" name="blog" 
                href="/blog">
                Blog
            </a>
        </li>

        <!-- Auto Generation of NORMAL pages in the navbar -->
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
     
        <!-- Auto Generation of SPECIAL pages in the navbar -->
        
          
            <li class="separator"> | </li>
            <li>
              <a class="clear" href="/search" name="search">
                <i class="fa fa-search" aria-hidden="true"></i>
              </a>
            </li>
          
        
          
            <li class="separator"> | </li>
            <li>
              <a class="clear" href="/tags" name="tags">
                <i class="fa fa-tags" aria-hidden="true"></i>
              </a>
            </li>
          
        
    </ul>
        
	</nav>
</header>

    <div class="content">
      <article >
  <header style="background-image: url('')">
    
      <h1 id="React04+-+Class-based+Components%2C+State+and+Component+Lifecycle" class="">React04 - Class-based Components, State and Component Lifecycle</h1>
      <p class="meta">
      December 20, 2018
       - Nahyeon Lee
      </p>
    
  </header>
  <section class="post-content">
  
      <p>A component can be functional or a class-based. Functional components are good enough to display simple content, but class components can be good for more than a simple feature with any complex logic. There is a concept of “state” in React also; State lets components to update their output data as responding immediately to a user’s action(asynchronously).</p>

<h3 id="rules-of-class-components">Rules of Class Components</h3>
<ul>
  <li>Must be a JavaScript class</li>
  <li>Must extend(subclass) React.Component</li>
  <li>Must define a ‘render’ method that returns some amount of JSX</li>
</ul>

<h3 id="rules-of-state">Rules of State</h3>
<ul>
  <li>Only usable with class-components</li>
  <li>‘State’ is a JS object that contains data related to a single component</li>
  <li>Updating ‘state’ on a component causes the component to <em>(almost) instatntly re-rendered</em></li>
  <li>State must be initialized when a component is first created (a constructor can be helpful)</li>
  <li>State can <em>only</em> be updated using the function ‘setState’</li>
</ul>

<h3 id="detecting-users-geolocation-with-react-state">Detecting user’s geolocation with React State</h3>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// index.js</span>
<span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="s1">'react'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">ReactDOM</span> <span class="k">from</span> <span class="s1">'react-dom'</span><span class="p">;</span>

<span class="cm">/*
Timeline of how this app works
	1. JS file loaded by browser
	2. Instance of App component is created
	3. App components 'constructor' function gets called
	4. State object is created and assigned to the 'this.state' property
	5. We call geolocation service
	6. React calls the components render method
	7. App returns JSX, gets rendered to page as HTML
	... after a while
	8. We get result of geolocation!!!
	9. We update our state object with a call to 'this.setState'
	10. React sees that we updated the state of a component
	11. React calls our 'render' method a second time
	12. Render method returns some (updated) JSX
*/</span>

<span class="c1">// App component has code to figure out user's location and month</span>
<span class="kd">class</span> <span class="nx">App</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
	<span class="kd">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span> <span class="c1">// It must to be called!!!</span>
		<span class="c1">// Initialize state object with sensible value, but THIS IS ONLY TIME we do direct assignment to this.state</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span> <span class="na">lat</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span> <span class="na">errorMessage</span><span class="p">:</span> <span class="s1">''</span> <span class="p">};</span> 
		<span class="c1">// Get users physical location</span>
		<span class="nb">window</span><span class="p">.</span><span class="nb">navigator</span><span class="p">.</span><span class="nx">geolocation</span><span class="p">.</span><span class="nx">getCurrentPosition</span><span class="p">(</span>
		<span class="c1">// To update state object, setState must be called! *rather than "this.state.lat = value")</span>
		<span class="p">(</span><span class="nx">position</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span> <span class="na">lat</span><span class="p">:</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">latitude</span> <span class="p">}),</span> 
		<span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="na">errorMessage</span><span class="p">:</span> <span class="nx">err</span><span class="p">.</span><span class="nx">message</span><span class="p">})</span>
		<span class="p">);</span>
	<span class="p">}</span>
	<span class="c1">// React says we have to define render!!</span>
	<span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">errorMessage</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">lat</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span> <span class="nb">Error</span> <span class="p">:</span> <span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">errorMessage</span> <span class="p">}</span> <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>		<span class="p">}</span>
		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">errorMessage</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">lat</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Latitude</span><span class="p">:</span> <span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">lat</span> <span class="p">}</span> <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>		<span class="p">}</span>
		<span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Loading</span><span class="o">!&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>		<span class="p">}</span>
<span class="p">}</span>
<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
	<span class="o">&lt;</span><span class="nx">App</span> <span class="o">/&gt;</span><span class="p">,</span>
	<span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'#root'</span><span class="p">)</span>
<span class="p">);</span></code></pre></figure>

<p>The source of this post and code is from <a href="https://www.udemy.com/react-redux/">Modern React with Redux</a>, also from <a href="https://reactjs.org/docs/getting-started.html">React Doc</a>.</p>


    
  </section>
  
  <!-- Social media shares -->
  <div class="share-buttons">
    <ul class="share-buttons">
        <div class="meta">Share</div>
        
        <li>
            <a href="https://www.facebook.com/sharer/sharer.php?u=https://nh0627.github.io/udemy-react/2018/12/20/class-component-state.html" target="_blank" title="Share on Facebook">
			<i class="fa fa-facebook-square fa-2x" aria-hidden="true"></i>
			<span class="sr-only">Share on Facebook</span>
		</a>
        </li>
         
        <li>
            <a href="https://twitter.com/intent/tweet?source=https://nh0627.github.io/udemy-react/2018/12/20/class-component-state.html&text=React04+-+Class-based+Components%2C+State+and+Component+Lifecycle%20%7C%20Nahyeon+Lee:%20https://nh0627.github.io/udemy-react/2018/12/20/class-component-state.html" target="_blank" title="Tweet">
			<i class="fa fa-twitter-square fa-2x" aria-hidden="true"></i>
			<span class="sr-only">Tweet</span>
		</a>
        </li>
         
        <li>
            <a href="https://plus.google.com/share?url=https://nh0627.github.io/udemy-react/2018/12/20/class-component-state.html" target="_blank" title="Share on Google+">
			<i class="fa fa-google-plus-square fa-2x" aria-hidden="true"></i>
			<span class="sr-only">Share on Google+</span>
		</a>
        </li>
            
        <li>
            <a href="http://www.reddit.com/submit?url=https://nh0627.github.io/udemy-react/2018/12/20/class-component-state.html&title=React04+-+Class-based+Components%2C+State+and+Component+Lifecycle%20%7C%20Nahyeon+Lee" target="_blank" title="Share on Reddit">
			<i class="fa fa-reddit-square fa-2x" aria-hidden="true"></i>
			<span class="sr-only">Share on Reddit</span>
		</a>
        </li>
           
        <li>
            <a href="mailto:?subject=React04+-+Class-based+Components%2C+State+and+Component+Lifecycle%20%7C%20Nahyeon+Lee&body=:%20https://nh0627.github.io/udemy-react/2018/12/20/class-component-state.html" target="_blank" title="Email">
			<i class="fa fa-envelope-square fa-2x" aria-hidden="true"></i>
			<span class="sr-only">Email</span>
		</a>
        </li>
        
    </ul>
</div>
   
   <!-- Tag list -->
  
  


<footer>
  <div class="tag-list">
    
      <div class="meta">Tag</div>
    

    
    <a class="button" href="/tags#react">
      <p><i class="fa fa-tag fa-fw"></i> react</p>
    </a>
    
  </div>
</footer>

    
</article>

<!-- Disqus -->


<!-- Post navigation -->

  <div id="post-nav">
  
  <div id="previous-post" class="post-nav-post">
      <p>Previous post</p>
      <a alt="React03 - Add More Components inside a Component" href="/udemy-react/2018/12/19/component-prop2.html">
        React03 - Add More Components inside a Component
      </a>
  </div>
  
  
  <div id="next-post" class="post-nav-post">
      <p>Next post</p>
      <a alt="React05 - Component Lifecycle" href="/udemy-react/2018/12/21/lifecycle.html">
        React05 - Component Lifecycle
      </a>
  </div>
  
</div>



    </div>
    
<footer class="site-footer">
    <div>
        <p class="text">© <a href="https://nh0627.github.io/">Nahyeon Lee</a>. 2019
</p>
        <div class="footer-icons">
            <ul>
                <!-- Social icons from Font Awesome, if enabled -->
                
<li>
	<a href="https://nh0627.github.io/feed.xml" title="Follow RSS feed">
		<span class="fa-stack fa-lg">
            <i class="fa fa-circle fa-stack-2x"></i>
            <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
        </span>
	</a>
</li>



<li>
	<a href="mailto:naboee0627@gmail.com" title="Email">
		<span class="fa-stack fa-lg">
            <i class="fa fa-circle fa-stack-2x"></i>
            <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
        </span>
	</a>
</li>













<li>
	<a href="https://github.com/nh0627" title="Follow on GitHub">
		<span class="fa-stack fa-lg">
            <i class="fa fa-circle fa-stack-2x"></i>
            <i class="fa fa-github fa-stack-1x fa-inverse"></i>
        </span>
	</a>
</li>
































            </ul>
        </div>
    </div>
</footer>

  </body>
</html>
